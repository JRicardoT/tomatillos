(this.webpackJsonptomatillos=this.webpackJsonptomatillos||[]).push([[0],[,,,,,,,,,,,,,,,,,function(e,t,n){},function(e,t,n){},function(e,t,n){},,function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(0),a=n(12),c=n.n(a),r=(n(17),n(18),n(5)),s=n(6),o=n(8),l=n(7),u=(n(19),n(1)),h=function(e){var t=Math.floor(10*e.rating)/10;return Object(u.jsxs)("article",{className:"movie-poster",children:[Object(u.jsx)("img",{src:e.posterPath,alt:e.title}),Object(u.jsxs)("section",{className:"movie-poster-details",children:[Object(u.jsx)("h2",{children:e.title}),Object(u.jsxs)("p",{children:[t," \u2b50\ufe0f"]})]})]})},j=(n(21),n(4)),d=function(e){var t=e.movies,n=e.filteredMovies,i=t.map((function(e){return Object(u.jsx)(j.b,{to:"".concat(e.id),children:Object(u.jsx)(h,{id:e.id,posterPath:e.poster_path,backdropPath:e.backdrop_path,title:e.title,rating:e.average_rating,releaseDate:e.release_date},e.id)},e.id)})),a=n.map((function(e){return Object(u.jsx)(j.b,{to:"".concat(e.id),children:Object(u.jsx)(h,{id:e.id,posterPath:e.poster_path,backdropPath:e.backdrop_path,title:e.title,rating:e.average_rating,releaseDate:e.release_date},e.id)},e.id)}));return Object(u.jsx)("section",{className:"movies-container",children:n.length?a:i})},m=(n(22),n(23),function(e){var t=e.searchMovies;return Object(u.jsx)("form",{children:Object(u.jsx)("input",{type:"text",name:"searcBarValue",placeholder:"Search Movie...",onChange:function(e){return t(e.target.value)}})})}),b=(n(24),function(e){var t=e.searchMovies;return Object(u.jsxs)("header",{className:"nav-bar",children:[Object(u.jsx)("h1",{children:"Rancid Tomatillos"}),Object(u.jsx)(m,{searchMovies:t})]})}),v=n(2),p=(n(25),n.p+"static/media/back-arrow.b23dca9a.svg"),f=function(e){Object(o.a)(n,e);var t=Object(l.a)(n);function n(){var e;return Object(r.a)(this,n),(e=t.call(this)).state={movieVideo:{}},e}return Object(s.a)(n,[{key:"componentDidMount",value:function(){var e,t=this;(e=this.props.id,fetch("https://rancid-tomatillos.herokuapp.com/api/v2/movies/".concat(e,"/videos")).then((function(e){return e.json()})).catch((function(e){return console.log(e)}))).then((function(e){var n=e.videos.find((function(e){return e.type.includes("Trailer")}));t.setState({movieVideo:n})}))}},{key:"render",value:function(){return Object(u.jsx)(u.Fragment,{children:Object(u.jsx)("iframe",{title:"Movie Trailer",src:"https://www.youtube.com/embed/".concat(this.state.movieVideo.key,"?autoplay=0"),frameBorder:"",allow:"autoplay; encrypted-media",allowFullScreen:!0,width:960,height:544,objectFit:"cover"})})}}]),n}(i.Component),O=function(e){Object(o.a)(n,e);var t=Object(l.a)(n);function n(){var e;return Object(r.a)(this,n),(e=t.call(this)).state={movieDetails:{}},e}return Object(s.a)(n,[{key:"componentDidMount",value:function(){var e,t=this;(e=this.props.id,fetch("https://rancid-tomatillos.herokuapp.com/api/v2/movies/".concat(e)).then((function(e){return e.json()})).catch((function(e){return console.log(e)}))).then((function(e){t.setState({movieDetails:e.movie})}))}},{key:"getRating",value:function(e){return Math.floor(10*e.average_rating)/10}},{key:"getReleaseYear",value:function(e){return new Date(e.release_date).getFullYear()}},{key:"render",value:function(){var e=this.state.movieDetails,t={backgroundImage:"linear-gradient(to right, #1C1D1E, 50%, transparent),\n         url(".concat(e.backdrop_path,")"),backgroundRepeat:"no-repeat",width:"100%",height:"100%",backgroundPosition:"center",backgroundSize:"cover"};return Object(u.jsxs)("section",{className:"details-wrapper",style:t,children:[Object(u.jsx)(j.b,{to:"/",className:"back-arrow-container",children:Object(u.jsx)("img",{className:"back-arrow-image",src:p,alt:"back to home"})}),Object(u.jsxs)("article",{className:"movie-details-container",children:[Object(u.jsxs)("section",{className:"movie-details",children:[Object(u.jsxs)("h2",{className:"movie-title",children:[" ",e.title," "]}),Object(u.jsxs)("div",{className:"basic-info",children:[Object(u.jsxs)("p",{className:"stats",children:[" ",this.getReleaseYear(e)," "]}),Object(u.jsxs)("p",{className:"stats",children:[" ","\u2b50\ufe0f ".concat(this.getRating(e))," "]}),Object(u.jsx)("p",{className:"stats",children:"".concat(e.runtime," mins")})]}),Object(u.jsxs)("p",{className:"movie-description",children:[" ",e.tagline," "]}),Object(u.jsxs)("p",{className:"movie-description",children:[" ",e.overview," "]})]}),Object(u.jsx)(f,{id:this.props.id})]})]})}}]),n}(i.Component),g=function(){var e=Object(v.g)().movie_id;return Object(u.jsx)(O,{id:e})},x=(n(26),function(){return Object(u.jsx)("section",{children:Object(u.jsx)("p",{className:"error",children:" Sorry! Something went wrong. Try again later. "})})}),k=function(e){Object(o.a)(n,e);var t=Object(l.a)(n);function n(){var e;return Object(r.a)(this,n),(e=t.call(this)).componentDidMount=function(){fetch("https://rancid-tomatillos.herokuapp.com/api/v2/movies").then((function(e){return e.json()})).catch((function(e){return console.log(e)})).then((function(t){e.setState({movies:t.movies})})).catch((function(t){console.log(t),e.setState({error:"Something went wrong, please try at a later time."})}))},e.searchMovies=function(t){var n=e.state.movies.filter((function(e){return e.title.toLowerCase().includes(t.toLowerCase())}));e.setState({filteredMovies:n})},e.state={movies:[],filteredMovies:[],error:""},e}return Object(s.a)(n,[{key:"render",value:function(){return Object(u.jsxs)("main",{children:[Object(u.jsx)(b,{searchMovies:this.searchMovies}),Object(u.jsxs)(v.c,{children:[!this.state.error&&Object(u.jsx)(v.a,{path:"/",element:Object(u.jsx)(d,{movies:this.state.movies,filteredMovies:this.state.filteredMovies})}),Object(u.jsx)(v.a,{path:":movie_id",element:Object(u.jsx)(g,{})})]}),this.state.error&&Object(u.jsx)(x,{})]})}}]),n}(i.Component),w=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,28)).then((function(t){var n=t.getCLS,i=t.getFID,a=t.getFCP,c=t.getLCP,r=t.getTTFB;n(e),i(e),a(e),c(e),r(e)}))};c.a.render(Object(u.jsx)(j.a,{children:Object(u.jsx)(k,{})}),document.getElementById("root")),w()}],[[27,1,2]]]);
//# sourceMappingURL=main.bdfcd689.chunk.js.map